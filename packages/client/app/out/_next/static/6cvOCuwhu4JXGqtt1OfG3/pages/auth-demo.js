(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"2Eek":function(e,t,a){e.exports=a("W7oM")},"2W6z":function(e,t,a){"use strict";var n=function(){};e.exports=n},"4mXO":function(e,t,a){e.exports=a("7TPF")},"7TPF":function(e,t,a){a("AUvm"),e.exports=a("WEpk").Object.getOwnPropertySymbols},"7m0m":function(e,t,a){var n=a("Y7ZC"),r=a("uplh"),s=a("NsO/"),o=a("vwuL"),i=a("IP1Z");n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,a,n=s(e),c=o.f,l=r(n),u={},f=0;l.length>f;)void 0!==(a=c(n,t=l[f++]))&&i(u,t,a);return u}})},"9Jkg":function(e,t,a){e.exports=a("oh+g")},W7oM:function(e,t,a){a("nZgG");var n=a("WEpk").Object;e.exports=function(e,t){return n.defineProperties(e,t)}},XoMD:function(e,t,a){e.exports=a("hYAz")},hYAz:function(e,t,a){a("7m0m"),e.exports=a("WEpk").Object.getOwnPropertyDescriptors},kDij:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth-demo",function(){return a("rNN0")}])},nZgG:function(e,t,a){var n=a("Y7ZC");n(n.S+n.F*!a("jmDH"),"Object",{defineProperties:a("fpC5")})},"oh+g":function(e,t,a){var n=a("WEpk"),r=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},rNN0:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),s=a("7vrA"),o=a("xXt2"),i=a("CafY"),c=r.a.createElement,l=function(e){return c(i.a,null,c(o.a,{style:{paddingTop:"1.5em",paddingBottom:"4em"}},c(s.a,null,c("h1",{style:{fontFamily:"HanleyPro-Slim"}},e.title),c("hr",{className:"my-4"}),e.lead&&c("p",{className:"lead"},e.lead),e.leadtext,c("div",{className:"mt-3",id:"auth-options"},e.authOptions))),e.children)};var u=a("hfKm"),f=a.n(u),d=a("2Eek"),m=a.n(d),p=a("XoMD"),b=a.n(p),h=a("Jo+v"),v=a.n(h),y=a("4mXO"),x=a.n(y),g=a("pLtp"),O=a.n(g),j=a("9Jkg"),N=a.n(j),w=a("eVuF"),k=a.n(w),P=a("ln6h"),E=a.n(P);function C(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),f()(e,n.key,n)}}var I=a("XVgq"),S=a.n(I),F=a("Z7t5"),R=a.n(F);function _(e){return(_="function"===typeof R.a&&"symbol"===typeof S.a?function(e){return typeof e}:function(e){return e&&"function"===typeof R.a&&e.constructor===R.a&&e!==R.a.prototype?"symbol":typeof e})(e)}function T(e){return(T="function"===typeof R.a&&"symbol"===_(S.a)?function(e){return _(e)}:function(e){return e&&"function"===typeof R.a&&e.constructor===R.a&&e!==R.a.prototype?"symbol":_(e)})(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var z=a("Bhuq"),M=a.n(z),V=a("TRZx"),D=a.n(V);function Y(e){return(Y=D.a?M.a:function(e){return e.__proto__||M()(e)})(e)}var Z=a("SqZg"),J=a.n(Z);function q(e,t){return(q=D.a||function(e,t){return e.__proto__=t,e})(e,t)}function A(e,t,a){return t in e?f()(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var W=a("wx14"),X=a("zLVn"),B=a("TSYQ"),G=a.n(B),U=(a("K9S6"),a("17x9")),H=a.n(U),K={type:H.a.string.isRequired,as:H.a.elementType},Q=r.a.forwardRef((function(e,t){var a=e.as,n=void 0===a?"div":a,s=e.className,o=e.type,i=Object(X.a)(e,["as","className","type"]);return r.a.createElement(n,Object(W.a)({},i,{ref:t,className:G()(s,o&&o+"-feedback")}))}));Q.displayName="Feedback",Q.propTypes=K,Q.defaultProps={type:"valid"};var $=Q,ee=r.a.createContext({controlId:void 0}),te=a("vUet"),ae=r.a.forwardRef((function(e,t){var a=e.id,s=e.bsPrefix,o=e.bsCustomPrefix,i=e.className,c=e.isValid,l=e.isInvalid,u=e.isStatic,f=e.as,d=void 0===f?"input":f,m=Object(X.a)(e,["id","bsPrefix","bsCustomPrefix","className","isValid","isInvalid","isStatic","as"]),p=Object(n.useContext)(ee),b=p.controlId;return s=p.custom?Object(te.a)(o,"custom-control-input"):Object(te.a)(s,"form-check-input"),r.a.createElement(d,Object(W.a)({},m,{ref:t,id:a||b,className:G()(i,s,c&&"is-valid",l&&"is-invalid",u&&"position-static")}))}));ae.displayName="FormCheckInput",ae.defaultProps={type:"checkbox"};var ne=ae,re=r.a.forwardRef((function(e,t){var a=e.bsPrefix,s=e.bsCustomPrefix,o=e.className,i=e.htmlFor,c=Object(X.a)(e,["bsPrefix","bsCustomPrefix","className","htmlFor"]),l=Object(n.useContext)(ee),u=l.controlId;return a=l.custom?Object(te.a)(s,"custom-control-label"):Object(te.a)(a,"form-check-label"),r.a.createElement("label",Object(W.a)({},c,{ref:t,htmlFor:i||u,className:G()(o,a)}))}));re.displayName="FormCheckLabel";var se=re,oe=r.a.forwardRef((function(e,t){var a=e.id,s=e.bsPrefix,o=e.bsCustomPrefix,i=e.inline,c=e.disabled,l=e.isValid,u=e.isInvalid,f=e.feedback,d=e.className,m=e.style,p=e.title,b=e.type,h=e.label,v=e.children,y=e.custom,x=e.as,g=void 0===x?"input":x,O=Object(X.a)(e,["id","bsPrefix","bsCustomPrefix","inline","disabled","isValid","isInvalid","feedback","className","style","title","type","label","children","custom","as"]),j="switch"===b||y;s=j?Object(te.a)(o,"custom-control"):Object(te.a)(s,"form-check");var N=Object(n.useContext)(ee).controlId,w=Object(n.useMemo)((function(){return{controlId:a||N,custom:j}}),[N,j,a]),k=null!=h&&!1!==h&&!v,P=r.a.createElement(ne,Object(W.a)({},O,{type:"switch"===b?"checkbox":b,ref:t,isValid:l,isInvalid:u,isStatic:!k,disabled:c,as:g}));return r.a.createElement(ee.Provider,{value:w},r.a.createElement("div",{style:m,className:G()(d,s,j&&"custom-"+b,i&&s+"-inline")},v||r.a.createElement(r.a.Fragment,null,P,k&&r.a.createElement(se,{title:p},h),(l||u)&&r.a.createElement($,{type:l?"valid":"invalid"},f))))}));oe.displayName="FormCheck",oe.defaultProps={type:"checkbox",inline:!1,disabled:!1,isValid:!1,isInvalid:!1,title:""},oe.Input=ne,oe.Label=se;var ie=oe,ce=(a("2W6z"),r.a.forwardRef((function(e,t){var a,s,o=e.bsPrefix,i=e.type,c=e.size,l=e.id,u=e.className,f=e.isValid,d=e.isInvalid,m=e.plaintext,p=e.readOnly,b=e.as,h=void 0===b?"input":b,v=Object(X.a)(e,["bsPrefix","type","size","id","className","isValid","isInvalid","plaintext","readOnly","as"]),y=Object(n.useContext)(ee).controlId;if(o=Object(te.a)(o,"form-control"),m)(s={})[o+"-plaintext"]=!0,a=s;else if("file"===i){var x;(x={})[o+"-file"]=!0,a=x}else{var g;(g={})[o]=!0,g[o+"-"+c]=c,a=g}return r.a.createElement(h,Object(W.a)({},v,{type:i,ref:t,readOnly:p,id:l||y,className:G()(u,a,f&&"is-valid",d&&"is-invalid")}))})));ce.displayName="FormControl",ce.Feedback=$;var le=ce,ue=r.a.forwardRef((function(e,t){var a=e.bsPrefix,s=e.className,o=e.children,i=e.controlId,c=e.as,l=void 0===c?"div":c,u=Object(X.a)(e,["bsPrefix","className","children","controlId","as"]);a=Object(te.a)(a,"form-group");var f=Object(n.useMemo)((function(){return{controlId:i}}),[i]);return r.a.createElement(ee.Provider,{value:f},r.a.createElement(l,Object(W.a)({},u,{ref:t,className:G()(s,a)}),o))}));ue.displayName="FormGroup";var fe=ue,de=["xl","lg","md","sm","xs"],me=r.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,s=e.as,o=void 0===s?"div":s,i=Object(X.a)(e,["bsPrefix","className","as"]),c=Object(te.a)(a,"col"),l=[],u=[];return de.forEach((function(e){var t,a,n,r=i[e];if(delete i[e],null!=r&&"object"===typeof r){var s=r.span;t=void 0===s||s,a=r.offset,n=r.order}else t=r;var o="xs"!==e?"-"+e:"";null!=t&&l.push(!0===t?""+c+o:""+c+o+"-"+t),null!=n&&u.push("order"+o+"-"+n),null!=a&&u.push("offset"+o+"-"+a)})),l.length||l.push(c),r.a.createElement(o,Object(W.a)({},i,{ref:t,className:G.a.apply(void 0,[n].concat(l,u))}))}));me.displayName="Col";var pe=me,be=r.a.forwardRef((function(e,t){var a=e.bsPrefix,s=e.column,o=e.srOnly,i=e.className,c=e.htmlFor,l=Object(X.a)(e,["bsPrefix","column","srOnly","className","htmlFor"]),u=Object(n.useContext)(ee).controlId;a=Object(te.a)(a,"form-label");var f=G()(i,a,o&&"sr-only",s&&"col-form-label");return c=c||u,s?r.a.createElement(pe,Object(W.a)({as:"label",className:f,htmlFor:c},l)):r.a.createElement("label",Object(W.a)({ref:t,className:f,htmlFor:c},l))}));be.displayName="FormLabel",be.defaultProps={column:!1,srOnly:!1};var he=be,ve=r.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.className,s=e.as,o=void 0===s?"small":s,i=e.muted,c=Object(X.a)(e,["bsPrefix","className","as","muted"]);return a=Object(te.a)(a,"form-text"),r.a.createElement(o,Object(W.a)({},c,{ref:t,className:G()(n,a,i&&"text-muted")}))}));ve.displayName="FormText";var ye=ve,xe=r.a.forwardRef((function(e,t){return r.a.createElement(ie,Object(W.a)({},e,{ref:t,type:"switch"}))}));xe.displayName="Switch",xe.Input=ie.Input,xe.Label=ie.Label;var ge=xe,Oe=a("YdCC"),je=r.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.inline,s=e.className,o=e.validated,i=e.as,c=void 0===i?"form":i,l=Object(X.a)(e,["bsPrefix","inline","className","validated","as"]);return a=Object(te.a)(a,"form"),r.a.createElement(c,Object(W.a)({},l,{ref:t,className:G()(s,o&&"was-validated",n&&a+"-inline")}))}));je.displayName="Form",je.defaultProps={inline:!1},je.Row=Object(Oe.a)("form-row"),je.Group=fe,je.Control=le,je.Check=ie,je.Switch=ge,je.Label=he,je.Text=ye;var Ne=je,we=a("dbZe"),ke=r.a.forwardRef((function(e,t){var a=e.bsPrefix,n=e.variant,s=e.size,o=e.active,i=e.className,c=e.block,l=e.type,u=e.as,f=Object(X.a)(e,["bsPrefix","variant","size","active","className","block","type","as"]),d=Object(te.a)(a,"btn"),m=G()(i,d,o&&"active",d+"-"+n,c&&d+"-block",s&&d+"-"+s);if(f.href)return r.a.createElement(we.a,Object(W.a)({},f,{as:u,ref:t,className:G()(m,f.disabled&&"disabled")}));t&&(f.ref=t),u||(f.type=l);var p=u||"button";return r.a.createElement(p,Object(W.a)({},f,{className:m}))}));ke.displayName="Button",ke.defaultProps={variant:"primary",active:!1,disabled:!1,type:"button"};var Pe=ke,Ee=a("6xyR"),Ce=a("dRu9"),Ie=r.a.createElement;function Se(e,t){var a=O()(e);if(x.a){var n=x()(e);t&&(n=n.filter((function(t){return v()(e,t).enumerable}))),a.push.apply(a,n)}return a}function Fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(a),!0).forEach((function(t){A(e,t,a[t])})):b.a?m()(e,b()(a)):Se(Object(a)).forEach((function(t){f()(e,t,v()(a,t))}))}return e}var Re=function(e){function t(e){var a,n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),n=this,a=!(r=Y(t).call(this,e))||"object"!==T(r)&&"function"!==typeof r?L(n):r,A(L(a),"defaultMessage","Hello!"),a.state={sub:"",message:a.props.defaultMessage||a.defaultMessage,messageLoaded:!1},a.handleChange=a.handleChange.bind(L(a)),a.handleSubmit=a.handleSubmit.bind(L(a)),a}var a,n,s;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=J()(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}(t,e),a=t,(n=[{key:"componentDidMount",value:function(){var e,t;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(this.userInfo());case 2:return e=a.sent,this.setState({sub:e.sub}),a.next=6,E.a.awrap(this.message(e.sub));case 6:t=a.sent,this.setState({messageLoaded:!0}),t&&this.setState({message:t});case 9:case"end":return a.stop()}}),null,this)}},{key:"userInfo",value:function(){var e,t;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(e=this.props.accessToken){a.next=3;break}return a.abrupt("return",void 0);case 3:return a.next=5,E.a.awrap(fetch("".concat("https://e2e-leonyork-com-auth-demo.auth.us-east-1.amazoncognito.com","/oauth2/userInfo"),{headers:{Authorization:"Bearer ".concat(e)}}));case 5:return t=a.sent,a.abrupt("return",t.json());case 7:case"end":return a.stop()}}),null,this)}},{key:"message",value:function(e){var t;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,E.a.awrap(fetch("".concat("","/user/").concat(e),{headers:{Authorization:"Bearer ".concat(this.props.accessToken)}}));case 2:if(404!=(t=a.sent).status){a.next=5;break}return a.abrupt("return",k.a.resolve(void 0));case 5:return a.next=7,E.a.awrap(t.json());case 7:return a.abrupt("return",a.sent.message);case 8:case"end":return a.stop()}}),null,this)}},{key:"handleChange",value:function(e){this.setState({message:e.target.value})}},{key:"handleSubmit",value:function(e){var t;return E.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e.preventDefault(),a.next=3,E.a.awrap(fetch("".concat("","/user/").concat(this.state.sub),{method:"PUT",body:N()({message:this.state.message}),headers:{Authorization:"Bearer ".concat(this.props.accessToken)}}));case 3:return t=a.sent,a.t0=this,a.next=7,E.a.awrap(t.json());case 7:a.t1=a.sent.message,a.t2={message:a.t1},a.t0.setState.call(a.t0,a.t2);case 10:case"end":return a.stop()}}),null,this)}},{key:"render",value:function(){var e=this,t={transition:"opacity 500ms ease-in-out",opacity:0},a={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};return Ie(r.a.Fragment,null,Ie(Ce.e,{in:this.state.messageLoaded,timeout:500},(function(n){return Ie("div",{style:Fe({},t,{},a[n])},Ie("h2",null,e.state.message))})),Ie(Ce.e,{in:void 0!==this.state.sub,timeout:500},(function(n){return Ie("div",{style:Fe({},t,{},a[n])},Ie("p",null,"Your user id is ",e.state.sub))})),Ie(Ce.e,{in:this.state.messageLoaded,timeout:500},(function(n){return Ie(Ee.a,{style:Fe({},t,{},a[n])},Ie(Ee.a.Header,null,"Your welcome message"),Ie(Ee.a.Body,null,Ie(Ne,{onSubmit:e.handleSubmit},Ie(Ne.Group,{controlId:"formMessage"},Ie(Ne.Label,null,"Message"),Ie(Ne.Control,{type:"text",placeholder:"Message",value:e.state.message,onChange:e.handleChange})),Ie(Pe,{variant:"primary",type:"submit",value:"Submit"},"Save"))))})))}}])&&C(a.prototype,n),s&&C(a,s),t}(n.Component),_e=r.a.createElement,Te=function(e){if(e.loggedIn){var t="".concat("https://e2e-leonyork-com-auth-demo.auth.us-east-1.amazoncognito.com","/logout?client_id=").concat("6dmj8t11hohhvjj5i4sl3tsd60","&logout_uri=").concat(encodeURI("https://d22k2qxgynx6pu.cloudfront.net"),"/auth-demo");return _e("a",{className:"btn btn-primary",href:t,key:"logout"},"Logout")}var a="".concat("https://e2e-leonyork-com-auth-demo.auth.us-east-1.amazoncognito.com","/oauth2/authorize?response_type=token&scope=openid&client_id=").concat("6dmj8t11hohhvjj5i4sl3tsd60","&redirect_uri=").concat(encodeURI("https://d22k2qxgynx6pu.cloudfront.net"),"/auth-demo");return _e("a",{className:"btn btn-primary",href:a,key:"login"},"Login")};a.d(t,"default",(function(){return ze}));var Le=r.a.createElement;function ze(e){var t=e,a=Object(n.useState)(void 0),r=a[0],o=a[1];return Object(n.useEffect)((function(){o(new URLSearchParams(window.location.hash.split("#")[1]).get("access_token"))})),Le(l,{title:t.title,lead:t.lead,leadtext:t.leadtext?t.leadtext.split(/[\r\n]/).map((function(e,t){return Le("p",{key:t},e)})):void 0,authOptions:Le(Te,{loggedIn:r})},r&&Le(s.a,null,Le(Re,{accessToken:r})))}ze.getInitialProps=function(e){var t=a("ufGO");return{fileRelativePath:"/content/auth-demo/jumbo.json",title:t.title,lead:t.lead,leadtext:t.leadtext}}},ufGO:function(e){e.exports=JSON.parse('{"title":"OAuth Demo","lead":"Click the button below to login or signup"}')},uplh:function(e,t,a){var n=a("ar/p"),r=a("mqlF"),s=a("5K7Z"),o=a("5T2Y").Reflect;e.exports=o&&o.ownKeys||function(e){var t=n.f(s(e)),a=r.f;return a?t.concat(a(e)):t}}},[["kDij",1,2,5,0,4]]]);